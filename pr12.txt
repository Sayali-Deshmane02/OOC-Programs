#include <iostream>
#include <fstream>
using namespace std;

int main() {
    ofstream fout("sample.txt");

    if (!fout) {
        cout << "File error while writing!" << endl;
        return 0;
    }

    string line;
    cout << "Enter text (type -1 to stop):" << endl;

    while (true) {
        getline(cin, line);
        if (line == "-1")
            break;
        fout << line << endl;
    }

    fout.close();

    ifstream fin("sample.txt");
    if (!fin) {
        cout << "File error while reading!" << endl;
        return 0;
    }

    cout << "\nFile Output:\n";
    while (getline(fin, line)) {
        cout << line << endl;
    }

    fin.close();
    return 0;
}

Output:

Hello, World!